---
import { TriangleAlert, Check, Info, Ban, Lightbulb } from "lucide-astro"

interface Props {
	title: string
	type?: "warning" | "info" | "success" | "error"
}

const { title, type = "normal" } = Astro.props

const IconComponent =
	{
		warning: TriangleAlert,
		info: Info,
		success: Check,
		error: Ban,
	}[type] || Lightbulb
---

<div class={`block-quote-container ${type}`}>
	<div class="block-quote">
		<i class="block-quote__icon">
			<IconComponent size={18} />
		</i>
		<div class="block-quote__title">{title}</div>
	</div>
	<div class="block-quote-message">
		<slot />
	</div>
</div>

<style>
	html[data-theme="dark"] {
		.info {
			background-color: rgba(30, 58, 138, 0.1);
		}
		.success {
			background-color: rgba(6, 95, 70, 0.1);
		}
		.warning {
			background-color: rgba(146, 64, 14, 0.1);
		}
		.error {
			background-color: rgba(127, 29, 29, 0.1);
		}
	}

	html[data-theme="cool"] {
		.info {
			background-color: #eff6ff;
		}
		.success {
			background-color: #d1fae5;
		}
		.warning {
			background-color: #fef3c7;
		}
		.error {
			background-color: #fee2e2;
		}
	}

	.block-quote-container {
		margin-top: 2rem;
		margin-bottom: 2rem;
		display: flex;
		flex-direction: column;
		border: 1px solid var(--title);
		color: rgb(255 255 255 / 1);
		border-radius: 0.375rem;
		padding: 0.75rem;
		@media all and (max-width: 640px) {
			padding: 1rem;
		}
		.block-quote {
			display: flex;
			align-items: center;
			.block-quote__icon {
				flex-shrink: 0;
			}
			.block-quote__title {
				margin-left: 0.5rem;
				font-weight: 700;
				@media all and (max-width: 640px) {
					margin-left: 0.75rem;
				}
			}
		}
		.block-quote-message {
			margin-left: 2rem;
			color: rgb(0 0 0 / 1);
			color: rgb(255 255 255 / 1);
			@media all and (max-width: 640px) {
				margin-left: 2.25rem;
			}
		}
	}

	.info {
		border-color: #3b82f6;
		color: #3b82f6;
	}
	.success {
		border-color: #10b981;
		color: #10b981;
	}
	.warning {
		border-color: #f59e0b;
		color: #f59e0b;
	}
	.error {
		border-color: #ef4444;
		color: #ef4444;
	}
</style>
