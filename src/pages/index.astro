---
import Layout from '../layouts/Layout.astro'
import Hero from '../components/home/Hero.astro'
import Projects from '../components/home/Projects.astro'
import Posts from '../components/home/Posts.astro'

// utils
import { sortByDate, nonDraftPosts } from '../utils'

const posts = await Astro.glob("./blogs/*.mdx")
const nonDraftPosts_ = nonDraftPosts(posts)
const sortedPosts = sortByDate(nonDraftPosts_)
const lastThreePosts = sortedPosts.slice(0, 3)
---

<Layout title="Mohammed's blog">
	<Hero />
	<Projects />
	<Posts posts={lastThreePosts} />
</Layout>
