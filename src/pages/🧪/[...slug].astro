---
import { type CollectionEntry, getCollection } from "astro:content"
import DemoPost from "../../layouts/DemoPost.astro"

export async function getStaticPaths() {
	const demos = await getCollection("demos")
	return demos.map((demo) => ({
		params: { slug: demo.slug },
		props: demo,
	}))
}

type Props = CollectionEntry<"demos">

const demo = Astro.props
const { Content } = await demo.render()
---

<DemoPost {...demo.data}>
	<Content />
</DemoPost>
